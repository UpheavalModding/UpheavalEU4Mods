##############################
# Age Overhaul Options       #
# Country Ability Unlocks    #
#                            #
# Written by von_der_borch   #
##############################

namespace = age_overhaul_options_menu_country_abilities

# Country-specific Age Ability Unlock Menu
country_event = {
	id = age_overhaul_options_menu_country_abilities.1
	title = age_overhaul_options_menu_country_abilities.1.title
	desc = age_overhaul_options_menu_desc
	picture = CITY_DEVELOPMENT_eventPicture

	is_triggered_only = yes

	# Back to Main Menu
	option = {
		name = age_overhaul_options_back
		country_event = { id = age_overhaul_menu_skipper.1 }
	}

	# Randomize the Country-Specific Age Ability Enablement
	option = {
		name = age_overhaul_options_random
		hidden_effect = {
			clr_global_flag = age_overhaul_option_country_specific_abilities_disabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_country_shortcuts_enabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all

			random_list = {
				10 = {
					set_global_flag = age_overhaul_option_country_specific_abilities_for_all
					clr_global_flag = age_overhaul_option_country_specific_abilities_no_unique_countries
					clr_global_flag = age_overhaul_option_country_specific_abilities_disabled
				}
				10 = {
					clr_global_flag = age_overhaul_option_country_specific_abilities_for_all
					clr_global_flag = age_overhaul_option_country_specific_abilities_no_unique_countries
					clr_global_flag = age_overhaul_option_country_specific_abilities_disabled
				}
				10 = {
					clr_global_flag = age_overhaul_option_country_specific_abilities_for_all
					set_global_flag = age_overhaul_option_country_specific_abilities_no_unique_countries
					clr_global_flag = age_overhaul_option_country_specific_abilities_disabled
				}
				10 = {
					clr_global_flag = age_overhaul_option_country_specific_abilities_for_all
					clr_global_flag = age_overhaul_option_country_specific_abilities_no_unique_countries
					set_global_flag = age_overhaul_option_country_specific_abilities_disabled
				}
			}
			country_event = { id = age_overhaul_menu_skipper.1 }
		}
	}

	# Default Vanilla Settings
	option = {
		name = age_overhaul_options_menu_country_abilities.1.a
		hidden_effect = {
			clr_global_flag = age_overhaul_option_country_specific_abilities_disabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled
			set_global_flag = age_overhaul_option_country_specific_abilities_special_country_shortcuts_enabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all
			country_event = { id = age_overhaul_menu_skipper.1 }
		}
	}

	# Disable all Country-Specific Abilities
	option = {
		name = age_overhaul_options_menu_country_abilities.1.b
		hidden_effect = {
			clr_global_flag = age_overhaul_option_country_specific_abilities_disabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_country_shortcuts_enabled
			clr_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all
			country_event = { id = age_overhaul_menu_skipper.1 }
		}
	}

	# Enable Country-Specific Abilities Country Shortcuts
	option = {
		name = age_overhaul_options_menu_country_abilities.1.b.1

		trigger = {
			NOT = { has_global_flag = age_overhaul_option_country_specific_abilities_special_country_shortcuts_enabled }
		}

		hidden_effect = {
			set_global_flag = age_overhaul_option_country_specific_abilities_special_country_shortcuts_enabled
			country_event = { id = age_overhaul_menu_skipper.7 }
		}
	}
	# Disable Country-Specific Abilities Country Shortcuts
	option = {
		name = age_overhaul_options_menu_country_abilities.1.b.2

		trigger = {
			has_global_flag = age_overhaul_option_country_specific_abilities_special_country_shortcuts_enabled
		}

		hidden_effect = {
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_country_shortcuts_enabled
			country_event = { id = age_overhaul_menu_skipper.7 }
		}
	}

	# Enable Country-Specific Abilities For All
	option = {
		name = age_overhaul_options_menu_country_abilities.1.c.1

		trigger = {
			NOT = { has_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all }
		}

		hidden_effect = {
			set_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all
			country_event = { id = age_overhaul_menu_skipper.7 }
		}
	}
	# Disable Country-Specific Abilities For All
	option = {
		name = age_overhaul_options_menu_country_abilities.1.c.2

		trigger = {
			has_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all
		}

		hidden_effect = {
			clr_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled
			country_event = { id = age_overhaul_menu_skipper.7 }
		}
	}

	# Enable Country-Specific Abilities Special Requirements
	option = {
		name = age_overhaul_options_menu_country_abilities.1.d.1

		trigger = {
			has_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all
			NOT = { has_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled }
		}

		hidden_effect = {
			set_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled
			country_event = { id = age_overhaul_menu_skipper.7 }
		}
	}
	# Disable Country-Specific Abilities Special Requirements
	option = {
		name = age_overhaul_options_menu_country_abilities.1.d.2

		trigger = {
			has_global_flag = age_overhaul_option_country_specific_abilities_unlocked_for_all
			has_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled
		}

		hidden_effect = {
			clr_global_flag = age_overhaul_option_country_specific_abilities_special_requirements_enabled
			country_event = { id = age_overhaul_menu_skipper.7 }
		}
	}
}
